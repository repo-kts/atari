// ============================================
// FLD (Front Line Demonstration) MODELS
// ============================================

model Sector {
  sectorId   Int    @id @default(autoincrement()) @map("sector_id")
  sectorName String @unique @map("sector_name")

  thematicAreas FldThematicArea[]
  categories    FldCategory[]
  subCategories FldSubcategory[]
  crops         FldCrop[]

  @@map("sector")
  @@index([sectorName])
}

model FldThematicArea {
  thematicAreaId   Int    @id @default(autoincrement()) @map("thematic_area_id")
  thematicAreaName String @map("thematic_area_name")

  sectorId Int
  sector   Sector @relation(fields: [sectorId], references: [sectorId])

  @@map("thematic_area")
  @@index([sectorId])
  @@index([thematicAreaName])
}

model FldCategory {
  categoryId   Int    @id @default(autoincrement()) @map("category_id")
  categoryName String @map("category_name")

  sectorId Int
  sector   Sector @relation(fields: [sectorId], references: [sectorId])

  subCategories FldSubcategory[]
  crops         FldCrop[]

  @@map("category")
  @@index([sectorId])
  @@index([categoryName])
}

model FldSubcategory {
  subCategoryId   Int    @id @default(autoincrement()) @map("sub_category_id")
  subCategoryName String @map("sub_category_name")

  categoryId Int
  category   FldCategory @relation(fields: [categoryId], references: [categoryId])

  sectorId Int @map("sector_id")
  sector   Sector @relation(fields: [sectorId], references: [sectorId])

  crops FldCrop[]

  @@map("sub_category")
  @@index([categoryId])
  @@index([sectorId])
  @@index([subCategoryName])
  @@index([categoryId, subCategoryId])
  @@index([subCategoryId, subCategoryName])
}

model FldCrop {
  cropId   Int    @id @default(autoincrement()) @map("crop_id")
  cropName String @map("crop_name")

  subCategoryId Int
  subCategory   FldSubcategory @relation(fields: [subCategoryId], references: [subCategoryId])

  categoryId Int @map("category_id")
  category   FldCategory @relation(fields: [categoryId], references: [categoryId])

  sectorId Int @map("sector_id")
  sector   Sector @relation(fields: [sectorId], references: [sectorId])

  @@map("crop")
  @@index([subCategoryId])
  @@index([categoryId])
  @@index([sectorId])
  @@index([cropName])
  @@index([subCategoryId, cropName])
}
