// Zone, State, District, Org - hierarchy / geography
// Models only; generator/datasource in schema.prisma

model Zone {
  zoneId    Int              @id @default(autoincrement()) @map("zone_id")
  zoneName  String           @unique @map("zone_name")
  districts DistrictMaster[]
  states    StateMaster[]
  users     User[]
  kvks      Kvk[]

  @@map("zone")
  @@index([zoneId])
}

model StateMaster {
  stateId   Int              @id @default(autoincrement()) @map("state_id")
  stateName String           @map("state_name")
  zoneId    Int
  districts DistrictMaster[]
  zone      Zone             @relation(fields: [zoneId], references: [zoneId])
  users     User[]
  kvks      Kvk[]

  @@index([stateId])
  @@index([zoneId])
  @@index([stateName])
  @@map("stateMaster")
}

model DistrictMaster {
  districtId   Int         @id @default(autoincrement()) @map("district_id")
  districtName String      @map("district_name")
  stateId      Int
  zoneId       Int
  state        StateMaster @relation(fields: [stateId], references: [stateId])
  zone         Zone        @relation(fields: [zoneId], references: [zoneId])
  orgs         OrgMaster[]
  users        User[]
  kvks         Kvk[]

  @@index([districtId])
  @@index([stateId])
  @@index([zoneId])
  @@index([districtName])
  @@map("districtMaster")
}

model OrgMaster {
  orgId        Int              @id @default(autoincrement()) @map("org_id")
  orgName      String?          @map("org_name")
  districtId   Int?             @map("district_id")
  district     DistrictMaster?  @relation(fields: [districtId], references: [districtId])
  universities UniversityMaster[]
  users        User[]
  kvks         Kvk[]

  @@index([orgId])
  @@index([districtId])
  @@index([orgName])
  @@map("orgMaster")
}

model UniversityMaster {
  universityId   Int         @id @default(autoincrement()) @map("university_id")
  universityName String     @map("university_name")
  orgId          Int         @map("org_id")
  organization   OrgMaster   @relation(fields: [orgId], references: [orgId])
  kvks           Kvk[]
  users          User[]

  @@index([universityId])
  @@index([orgId])
  @@index([universityName])
  @@map("universityMaster")
}
